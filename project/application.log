Tue, 22 Oct 2019 22:57:28 INFO      * Restarting with stat
Tue, 22 Oct 2019 22:57:32 WARNING   * Debugger is active!
Tue, 22 Oct 2019 22:57:32 INFO      * Debugger PIN: 311-371-793
Tue, 22 Oct 2019 22:57:32 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Tue, 22 Oct 2019 22:57:37 INFO     127.0.0.1 - - [22/Oct/2019 22:57:37] "[37mGET / HTTP/1.1[0m" 200 -
Tue, 22 Oct 2019 22:57:39 INFO     127.0.0.1 - - [22/Oct/2019 22:57:39] "[37mGET /search HTTP/1.1[0m" 200 -
Tue, 22 Oct 2019 22:57:46 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: TF-IDF
Tue, 22 Oct 2019 22:57:46 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Tue, 22 Oct 2019 22:57:46 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Tue, 22 Oct 2019 22:58:07 INFO     Result: [837     0.348022
3149    0.326575
4970    0.317936
4113    0.312350
286     0.304508
3989    0.304508
1413    0.291927
1761    0.282072
3657    0.280307
4601    0.278553
Name: val, dtype: float64, 837      837
3149    3149
4970    4970
4113    4113
286      286
3989    3989
1413    1413
1761    1761
3657    3657
4601    4601
Name: dupl, dtype: int64, 837                                   почему ты ее любишь
3149                             пакистан уничтожит Индию
4970                       что я не должен делать в Индии
4113                 как мы воссоединяем Индию и Пакистан
286     если будет война между Индией и Пакистаном, ко...
3989    если будет война между Индией и Пакистаном, ко...
1413                 что делать, если кошка царапает глаз
1761                         что такое свет, состоящий из
3657    свет нуждается в среде, чтобы путешествовать т...
4601                         как мне перестать любить его
Name: sentence, dtype: object]
Tue, 22 Oct 2019 22:58:07 INFO     127.0.0.1 - - [22/Oct/2019 22:58:07] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=TF-IDF HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 10:43:41 INFO      * Restarting with stat
Wed, 23 Oct 2019 10:43:47 WARNING   * Debugger is active!
Wed, 23 Oct 2019 10:43:47 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 10:43:47 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 10:43:50 INFO     127.0.0.1 - - [23/Oct/2019 10:43:50] "[37mGET / HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 10:43:53 INFO     127.0.0.1 - - [23/Oct/2019 10:43:53] "[37mGET /search HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 10:43:58 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: TF-IDF
Wed, 23 Oct 2019 10:43:58 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Wed, 23 Oct 2019 10:43:58 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Wed, 23 Oct 2019 10:44:30 INFO     Result: [837     0.348022
3149    0.326575
4970    0.317936
4113    0.312350
286     0.304508
3989    0.304508
1413    0.291927
1761    0.282072
3657    0.280307
4601    0.278553
Name: val, dtype: float64, 837      837
3149    3149
4970    4970
4113    4113
286      286
3989    3989
1413    1413
1761    1761
3657    3657
4601    4601
Name: dupl, dtype: int64, 837                                   почему ты ее любишь
3149                             пакистан уничтожит Индию
4970                       что я не должен делать в Индии
4113                 как мы воссоединяем Индию и Пакистан
286     если будет война между Индией и Пакистаном, ко...
3989    если будет война между Индией и Пакистаном, ко...
1413                 что делать, если кошка царапает глаз
1761                         что такое свет, состоящий из
3657    свет нуждается в среде, чтобы путешествовать т...
4601                         как мне перестать любить его
Name: sentence, dtype: object]
Wed, 23 Oct 2019 10:44:30 INFO     127.0.0.1 - - [23/Oct/2019 10:44:30] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=TF-IDF HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 10:47:25 INFO      * Detected change in 'C:\\Users\\Cyril\\proga\\InfoSearch_2019\\project\\search_and_eval.py', reloading
Wed, 23 Oct 2019 10:47:26 INFO      * Restarting with stat
Wed, 23 Oct 2019 10:47:32 WARNING   * Debugger is active!
Wed, 23 Oct 2019 10:47:32 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 10:47:32 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 10:49:29 INFO      * Detected change in 'C:\\Users\\Cyril\\proga\\InfoSearch_2019\\project\\search_and_eval.py', reloading
Wed, 23 Oct 2019 10:49:29 INFO      * Restarting with stat
Wed, 23 Oct 2019 10:49:36 WARNING   * Debugger is active!
Wed, 23 Oct 2019 10:49:36 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 10:49:36 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 10:51:01 INFO      * Detected change in 'C:\\Users\\Cyril\\proga\\InfoSearch_2019\\project\\search_and_eval.py', reloading
Wed, 23 Oct 2019 10:51:01 INFO      * Restarting with stat
Wed, 23 Oct 2019 10:51:06 WARNING   * Debugger is active!
Wed, 23 Oct 2019 10:51:06 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 10:51:06 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 11:23:54 INFO      * Restarting with stat
Wed, 23 Oct 2019 11:24:01 WARNING   * Debugger is active!
Wed, 23 Oct 2019 11:24:01 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 11:24:01 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 11:24:01 INFO     127.0.0.1 - - [23/Oct/2019 11:24:01] "[37mGET / HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 11:24:03 INFO     127.0.0.1 - - [23/Oct/2019 11:24:03] "[37mGET /search HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 11:24:09 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: TF-IDF
Wed, 23 Oct 2019 11:24:09 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Wed, 23 Oct 2019 11:24:09 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Wed, 23 Oct 2019 11:24:33 INFO     Result: [837     0.348022
3149    0.326575
4970    0.317936
4113    0.312350
286     0.304508
3989    0.304508
1413    0.291927
1761    0.282072
3657    0.280307
4601    0.278553
Name: val, dtype: float64, 837      837
3149    3149
4970    4970
4113    4113
286      286
3989    3989
1413    1413
1761    1761
3657    3657
4601    4601
Name: dupl, dtype: int64, 837                                   почему ты ее любишь
3149                             пакистан уничтожит Индию
4970                       что я не должен делать в Индии
4113                 как мы воссоединяем Индию и Пакистан
286     если будет война между Индией и Пакистаном, ко...
3989    если будет война между Индией и Пакистаном, ко...
1413                 что делать, если кошка царапает глаз
1761                         что такое свет, состоящий из
3657    свет нуждается в среде, чтобы путешествовать т...
4601                         как мне перестать любить его
Name: sentence, dtype: object]
Wed, 23 Oct 2019 11:24:33 INFO     127.0.0.1 - - [23/Oct/2019 11:24:33] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=TF-IDF HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 11:25:48 INFO      * Detected change in 'C:\\Users\\Cyril\\proga\\InfoSearch_2019\\project\\search_and_eval.py', reloading
Wed, 23 Oct 2019 11:25:49 INFO      * Restarting with stat
Wed, 23 Oct 2019 11:25:53 WARNING   * Debugger is active!
Wed, 23 Oct 2019 11:25:53 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 11:25:53 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 11:26:06 INFO      * Detected change in 'C:\\Users\\Cyril\\proga\\InfoSearch_2019\\project\\search_and_eval.py', reloading
Wed, 23 Oct 2019 11:26:06 INFO      * Restarting with stat
Wed, 23 Oct 2019 11:26:09 WARNING   * Debugger is active!
Wed, 23 Oct 2019 11:26:09 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 11:26:09 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 11:27:25 INFO      * Restarting with stat
Wed, 23 Oct 2019 11:27:30 WARNING   * Debugger is active!
Wed, 23 Oct 2019 11:27:30 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 11:27:30 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 11:27:36 INFO     127.0.0.1 - - [23/Oct/2019 11:27:36] "[37mGET / HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 15:38:33 INFO     127.0.0.1 - - [23/Oct/2019 15:38:33] "[37mGET /search HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 15:38:39 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: TF-IDF
Wed, 23 Oct 2019 15:38:39 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Wed, 23 Oct 2019 15:38:39 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Wed, 23 Oct 2019 15:39:00 INFO     Result: [['почему ты ее любишь', 0.3480224947572693], ['пакистан уничтожит Индию', 0.3265750362333635], ['что я не должен делать в Индии', 0.31793591057660775], ['как мы воссоединяем Индию и Пакистан', 0.31235048310693103], ['если будет война между Индией и Пакистаном, которая выиграет', 0.3045078515819525], ['если будет война между Индией и Пакистаном, которая выиграет', 0.3045078515819525], ['что делать, если кошка царапает глаз', 0.2919273804104724], ['что такое свет, состоящий из', 0.28207196087539493], ['свет нуждается в среде, чтобы путешествовать так, как солнечный свет приходит из космоса', 0.2803070265742386], ['как мне перестать любить его', 0.2785526451761123]]
Wed, 23 Oct 2019 15:39:00 INFO     127.0.0.1 - - [23/Oct/2019 15:39:00] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=TF-IDF HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 15:42:30 INFO      * Detected change in 'C:\\Users\\Cyril\\proga\\InfoSearch_2019\\project\\search_and_eval.py', reloading
Wed, 23 Oct 2019 15:42:30 INFO      * Restarting with stat
Wed, 23 Oct 2019 15:42:40 WARNING   * Debugger is active!
Wed, 23 Oct 2019 15:42:40 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 15:42:40 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 15:44:08 INFO      * Restarting with stat
Wed, 23 Oct 2019 15:44:12 WARNING   * Debugger is active!
Wed, 23 Oct 2019 15:44:12 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 15:44:12 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 15:44:33 INFO     127.0.0.1 - - [23/Oct/2019 15:44:33] "[37mGET / HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 15:44:36 INFO     127.0.0.1 - - [23/Oct/2019 15:44:36] "[37mGET /search HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 15:44:41 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: TF-IDF
Wed, 23 Oct 2019 15:44:41 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Wed, 23 Oct 2019 15:44:42 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Wed, 23 Oct 2019 15:45:01 INFO     Result: [['почему ты ее любишь', 0.3480224947572693], ['пакистан уничтожит Индию', 0.3265750362333635], ['что я не должен делать в Индии', 0.31793591057660775], ['как мы воссоединяем Индию и Пакистан', 0.31235048310693103], ['если будет война между Индией и Пакистаном, которая выиграет', 0.3045078515819525], ['если будет война между Индией и Пакистаном, которая выиграет', 0.3045078515819525], ['что делать, если кошка царапает глаз', 0.2919273804104724], ['что такое свет, состоящий из', 0.28207196087539493], ['свет нуждается в среде, чтобы путешествовать так, как солнечный свет приходит из космоса', 0.2803070265742386], ['как мне перестать любить его', 0.2785526451761123]]
Wed, 23 Oct 2019 15:45:01 INFO     127.0.0.1 - - [23/Oct/2019 15:45:01] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=TF-IDF HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 15:45:15 INFO     127.0.0.1 - - [23/Oct/2019 15:45:15] "[37mGET /search HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 15:45:25 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: BM25
Wed, 23 Oct 2019 15:45:25 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Wed, 23 Oct 2019 15:45:25 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Wed, 23 Oct 2019 15:45:50 INFO     Result: [['что я не должен делать в Индии', 0.44998424860114994], ['почему ты ее любишь', 0.34919280977236367], ['пакистан уничтожит Индию', 0.342092013116424], ['если будет война между Индией и Пакистаном, которая выиграет', 0.3349566555365755], ['если будет война между Индией и Пакистаном, которая выиграет', 0.3349566555365755], ['как мы воссоединяем Индию и Пакистан', 0.3204366886568548], ['должна ли быть война между Индией и Пакистаном для кашмира', 0.2946395922827147], ['что делать, если кошка царапает глаз', 0.28585039204986534], ['мне 18, что я должен делать', 0.28295424730916724], ['моя податливость меня любит; что нам теперь делать', 0.28000839102467084]]
Wed, 23 Oct 2019 15:45:50 INFO     127.0.0.1 - - [23/Oct/2019 15:45:50] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=BM25 HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 17:06:30 INFO      * Restarting with stat
Wed, 23 Oct 2019 17:06:35 WARNING   * Debugger is active!
Wed, 23 Oct 2019 17:06:35 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 17:06:35 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 17:06:43 INFO     127.0.0.1 - - [23/Oct/2019 17:06:43] "[37mGET / HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 17:06:46 INFO     127.0.0.1 - - [23/Oct/2019 17:06:46] "[37mGET /search HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 17:06:54 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: FastText
Wed, 23 Oct 2019 17:06:54 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Wed, 23 Oct 2019 17:06:54 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Wed, 23 Oct 2019 17:06:55 ERROR    Error with query Глаза очень любят свет Индия и Пакистан что делать and model FastText:

 repr(e)
Traceback (most recent call last):
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\engine_and_logging.py", line 19, in dosearch
    result=search(query, method)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 118, in search
    evaluation_df = metric(query, model)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 54, in metric
    sent_vector = sent_vectorizer(query, w2v)
NameError: name 'w2v' is not defined
Wed, 23 Oct 2019 17:06:55 INFO     127.0.0.1 - - [23/Oct/2019 17:06:55] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=FastText HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 17:09:39 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Wed, 23 Oct 2019 17:09:40 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Wed, 23 Oct 2019 17:09:41 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Wed, 23 Oct 2019 17:10:34 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Wed, 23 Oct 2019 17:10:36 INFO     setting ignored attribute vectors_vocab_norm to None
Wed, 23 Oct 2019 17:10:36 INFO     setting ignored attribute buckets_word to None
Wed, 23 Oct 2019 17:10:36 INFO     setting ignored attribute vectors_norm to None
Wed, 23 Oct 2019 17:10:36 INFO     setting ignored attribute vectors_ngrams_norm to None
Wed, 23 Oct 2019 17:10:36 INFO     loaded fasttext/model.model
Wed, 23 Oct 2019 17:10:37 INFO      * Restarting with stat
Wed, 23 Oct 2019 17:10:48 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Wed, 23 Oct 2019 17:10:49 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Wed, 23 Oct 2019 17:10:50 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Wed, 23 Oct 2019 17:11:46 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Wed, 23 Oct 2019 17:11:50 INFO     setting ignored attribute vectors_vocab_norm to None
Wed, 23 Oct 2019 17:11:50 INFO     setting ignored attribute buckets_word to None
Wed, 23 Oct 2019 17:11:50 INFO     setting ignored attribute vectors_norm to None
Wed, 23 Oct 2019 17:11:50 INFO     setting ignored attribute vectors_ngrams_norm to None
Wed, 23 Oct 2019 17:11:50 INFO     loaded fasttext/model.model
Wed, 23 Oct 2019 17:11:52 WARNING   * Debugger is active!
Wed, 23 Oct 2019 17:11:52 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 17:11:52 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 17:11:59 INFO     127.0.0.1 - - [23/Oct/2019 17:11:59] "[37mGET / HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 17:12:06 INFO     127.0.0.1 - - [23/Oct/2019 17:12:06] "[37mGET /search HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 17:12:13 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: FastText
Wed, 23 Oct 2019 17:12:13 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Wed, 23 Oct 2019 17:12:14 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Wed, 23 Oct 2019 17:12:15 ERROR    Error with query Глаза очень любят свет Индия и Пакистан что делать and model FastText:

 repr(e)
Traceback (most recent call last):
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\engine_and_logging.py", line 19, in dosearch
    result=search(query, method)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 118, in search
    evaluation_df = metric(query, model)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 56, in metric
    metric_value = td_metric(query_tfidf, df)
UnboundLocalError: local variable 'query_tfidf' referenced before assignment
Wed, 23 Oct 2019 17:12:15 INFO     127.0.0.1 - - [23/Oct/2019 17:12:15] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=FastText HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 17:14:07 INFO      * Detected change in 'C:\\Users\\Cyril\\proga\\InfoSearch_2019\\project\\search_and_eval.py', reloading
Wed, 23 Oct 2019 17:14:08 INFO      * Restarting with stat
Wed, 23 Oct 2019 17:14:15 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Wed, 23 Oct 2019 17:14:16 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Wed, 23 Oct 2019 17:14:17 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Wed, 23 Oct 2019 17:16:38 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Wed, 23 Oct 2019 17:16:38 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Wed, 23 Oct 2019 17:16:39 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Wed, 23 Oct 2019 17:17:02 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Wed, 23 Oct 2019 17:17:03 INFO     setting ignored attribute vectors_vocab_norm to None
Wed, 23 Oct 2019 17:17:03 INFO     setting ignored attribute buckets_word to None
Wed, 23 Oct 2019 17:17:03 INFO     setting ignored attribute vectors_norm to None
Wed, 23 Oct 2019 17:17:03 INFO     setting ignored attribute vectors_ngrams_norm to None
Wed, 23 Oct 2019 17:17:03 INFO     loaded fasttext/model.model
Wed, 23 Oct 2019 17:17:04 INFO      * Restarting with stat
Wed, 23 Oct 2019 17:17:12 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Wed, 23 Oct 2019 17:17:13 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Wed, 23 Oct 2019 17:17:15 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Wed, 23 Oct 2019 17:18:28 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Wed, 23 Oct 2019 17:18:32 INFO     setting ignored attribute vectors_vocab_norm to None
Wed, 23 Oct 2019 17:18:32 INFO     setting ignored attribute buckets_word to None
Wed, 23 Oct 2019 17:18:32 INFO     setting ignored attribute vectors_norm to None
Wed, 23 Oct 2019 17:18:32 INFO     setting ignored attribute vectors_ngrams_norm to None
Wed, 23 Oct 2019 17:18:32 INFO     loaded fasttext/model.model
Wed, 23 Oct 2019 17:18:34 WARNING   * Debugger is active!
Wed, 23 Oct 2019 17:18:35 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 17:18:35 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 17:18:55 INFO     127.0.0.1 - - [23/Oct/2019 17:18:55] "[37mGET / HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 17:18:58 INFO     127.0.0.1 - - [23/Oct/2019 17:18:58] "[37mGET /search HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 17:19:03 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: FastText
Wed, 23 Oct 2019 17:19:03 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Wed, 23 Oct 2019 17:19:04 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Wed, 23 Oct 2019 17:19:05 ERROR    Error with query Глаза очень любят свет Индия и Пакистан что делать and model FastText:

 repr(e)
Traceback (most recent call last):
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\engine_and_logging.py", line 19, in dosearch
    result=search(query, method)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 118, in search
    evaluation_df = metric(query, model)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 56, in metric
    metric_value = td_metric(sent_vector, df)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 66, in td_metric
    cos_sim = data.apply(lambda row: cosine_similarity(row.values.reshape(1, -1), query)[0][0], axis=1)
  File "C:\Python36\lib\site-packages\pandas\core\frame.py", line 6928, in apply
    return op.get_result()
  File "C:\Python36\lib\site-packages\pandas\core\apply.py", line 186, in get_result
    return self.apply_standard()
  File "C:\Python36\lib\site-packages\pandas\core\apply.py", line 292, in apply_standard
    self.apply_series_generator()
  File "C:\Python36\lib\site-packages\pandas\core\apply.py", line 321, in apply_series_generator
    results[i] = self.f(v)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 66, in <lambda>
    cos_sim = data.apply(lambda row: cosine_similarity(row.values.reshape(1, -1), query)[0][0], axis=1)
  File "C:\Python36\lib\site-packages\sklearn\metrics\pairwise.py", line 1027, in cosine_similarity
    X, Y = check_pairwise_arrays(X, Y)
  File "C:\Python36\lib\site-packages\sklearn\metrics\pairwise.py", line 114, in check_pairwise_arrays
    estimator=estimator)
  File "C:\Python36\lib\site-packages\sklearn\utils\validation.py", line 521, in check_array
    "if it contains a single sample.".format(array))
ValueError: ('Expected 2D array, got 1D array instead:\narray=[ 1.43590836e-03  5.51346844e-02  1.94541141e-01  4.87821182e-02\n -1.23045810e-01 -1.24234632e-02 -3.38062585e-02 -9.91944692e-02\n -6.39763368e-02 -4.00960259e-02 -9.98572305e-02  1.05638431e-01\n  5.19194784e-02 -3.53496160e-01  1.00424980e-01  1.88234212e-01\n  1.50026943e-01  7.99226141e-02 -1.84190092e-01  5.74612979e-02\n -2.56974946e-01  2.61868155e-01  8.13706016e-02 -6.19610016e-02\n  1.31500379e-02  1.08017049e-01 -9.80924118e-02 -1.58165182e-05\n  8.26940196e-02 -1.87685766e-02 -2.71387848e-02 -1.46980821e-01\n -8.73689620e-02 -1.45089410e-01 -1.63225159e-01 -9.61961847e-02\n  1.25308483e-01 -4.60446018e-02  6.33836910e-03  2.34665370e-02\n  8.77465650e-02 -2.79140197e-01  4.53537721e-02  3.36264390e-02\n  1.37494304e-02 -1.63123131e-01  4.23680459e-03  1.45862389e-01\n -8.23855786e-02 -1.64786415e-01 -1.86245126e-01  1.11456900e-01\n -1.24336186e-01 -5.59420809e-02 -7.36965042e-02  1.06122980e-01\n  1.07213968e-02 -9.16327190e-02 -5.55268465e-02 -1.61642712e-01\n -2.49800411e-01 -6.25390948e-02  2.08851339e-03 -1.10847760e-01\n  5.87066997e-02  1.65766764e-01 -2.02239338e-01  1.17972194e-01\n -5.31955202e-02 -7.19843805e-03  3.44647488e-02 -2.64642587e-03\n -3.30490559e-02  1.49318306e-01 -4.97468795e-02  2.18735093e-01\n -1.13622198e-01  7.68995179e-04 -1.73661518e-01 -1.54676799e-02\n  3.40967132e-02  6.18901971e-02 -2.53018596e-02  5.37738140e-02\n  8.18358846e-02 -6.18978036e-02 -6.20619076e-02 -1.19548910e-01\n -5.02569771e-02 -2.28694585e-01  9.21431918e-02 -7.20115735e-02\n  4.77871139e-02 -1.09798566e-01 -9.27374650e-02  1.83073959e-01\n -2.12778359e-02 -1.27528822e-01 -4.59424787e-02  4.05703747e-02\n  8.74139837e-02  1.30785735e-01  3.22145779e-02  9.14739498e-03\n  1.24012865e-01  7.16474945e-02 -1.21261705e-01  1.04883067e-01\n  1.28165310e-01 -1.41212328e-01 -6.59690643e-02  3.51780915e-01\n -3.77815254e-02  4.97687624e-02 -2.20273911e-02 -2.08089139e-01\n -4.60906869e-03  2.84288770e-02 -2.30768114e-01  1.37692841e-01\n  1.57388316e-01 -1.24110122e-01 -2.86348680e-02  4.69782927e-02\n  6.08492781e-02 -1.49624914e-02  2.97408918e-02 -1.27878122e-01\n -8.16547291e-02  2.35481448e-01  1.13590056e-01 -4.97081032e-02\n -3.74142433e-02  1.13925709e-01 -1.78844648e-01  1.07839966e-01\n  1.97506464e-02 -3.00774095e-02 -2.64974140e-01 -3.04034640e-02\n  4.51980989e-02 -1.02370231e-01  1.24803897e-01 -1.19304825e-02\n -1.38350286e-01 -6.65757148e-02 -3.60678881e-02  1.51837671e-01\n -1.85902456e-01 -3.07236330e-02  7.87836156e-02  2.89808759e-01\n -4.37398380e-02 -3.45653423e-02  7.32140216e-02  9.86249782e-02\n -1.40527760e-01 -3.17762468e-02 -1.42841688e-01  1.38119431e-01\n  7.62337779e-02 -5.51335522e-02  1.23008136e-01  1.68758087e-01\n  2.06332829e-02  2.28376048e-01  6.39204468e-03  6.79549202e-03\n  8.81695189e-02 -2.58742037e-01 -1.65660626e-02 -2.29324330e-01\n  1.78461015e-02  1.37778856e-01 -1.23423737e-01 -2.97522162e-02\n  1.14468338e-01  1.41976364e-01  1.11303839e-01  5.93385313e-03\n -4.68728936e-02 -1.41969558e-01 -1.23406115e-01  1.22158376e-01\n -1.63931774e-01 -4.68593117e-02 -7.61366148e-02 -1.36435133e-01\n -1.14266557e-01  1.83948604e-01  7.75219351e-02 -2.14290707e-02\n  2.26348722e-01 -1.23515211e-01 -8.65705003e-02 -1.20355447e-01\n -4.93101106e-02  4.65631176e-02 -1.03321398e-01  2.31319999e-01\n  2.42668135e-02 -8.43789122e-02 -6.03058322e-03  4.89398518e-02\n  1.10647902e-01  1.31810017e-01  1.63070215e-01  2.21761842e-01\n -4.79886920e-02 -1.94646700e-01  2.12577895e-02  9.35773188e-02\n -2.72862187e-01  1.10142269e-01 -1.32641923e-01  1.70850062e-01\n -8.94876649e-02 -9.33787573e-02  3.76899407e-02  4.61223857e-02\n -7.15409275e-02  9.57443235e-02 -4.24267461e-02  5.44601572e-03\n -1.54902997e-01 -1.23369345e-01 -1.06917322e-03 -6.75794066e-02\n  1.24062480e-01 -2.09330657e-01 -6.88042333e-02  7.71702613e-02\n  7.77878112e-02 -1.26682826e-01 -9.20027441e-02 -1.83096741e-01\n  7.20889894e-02 -7.03831916e-02 -1.35745555e-02  2.14740737e-01\n -2.51984530e-02 -5.57685639e-02  1.66563884e-01 -3.09122119e-02\n  4.81708041e-02 -2.53205254e-01  5.00032731e-02 -1.05917913e-01\n -1.55135989e-01 -2.11726943e-02 -5.46812309e-02 -1.26179419e-01\n  1.23880135e-01  6.41636178e-02 -2.80301935e-01  1.45490791e-01\n  1.77698142e-02 -2.65913109e-01 -8.32332817e-02 -3.96111820e-02\n -8.29884820e-02 -9.22711814e-02 -1.71718847e-02  2.55744005e-02\n  2.99894538e-02  2.89994996e-01  8.53229810e-02 -2.44335419e-01\n  8.90809524e-02  1.53741852e-02 -8.12369340e-02 -1.36649801e-01\n -1.23808780e-01  9.04697475e-02 -2.50835838e-01  1.19011543e-03\n  6.99439175e-02  1.42450189e-01 -2.22034900e-01 -4.30778755e-02\n -1.49726730e-01  1.94074831e-01  6.90720946e-02 -1.49317472e-02\n  3.65109593e-02  6.15984621e-02 -1.72418333e-01  6.74292360e-02\n -6.16470554e-02 -1.07737057e-01  1.04935937e-01  1.28558888e-01\n -6.56971176e-03 -2.35592350e-02 -2.37673574e-01 -2.38556568e-01\n  2.51139562e-02  5.10042805e-02  1.87455359e-01  4.30275290e-02].\nReshape your data either using array.reshape(-1, 1) if your data has a single feature or array.reshape(1, -1) if it contains a single sample.', 'occurred at index 0')
Wed, 23 Oct 2019 17:19:05 INFO     127.0.0.1 - - [23/Oct/2019 17:19:05] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=FastText HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 17:22:41 INFO      * Detected change in 'C:\\Users\\Cyril\\proga\\InfoSearch_2019\\project\\search_and_eval.py', reloading
Wed, 23 Oct 2019 17:22:42 INFO      * Restarting with stat
Wed, 23 Oct 2019 17:22:48 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Wed, 23 Oct 2019 17:22:48 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Wed, 23 Oct 2019 17:22:49 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Wed, 23 Oct 2019 17:23:28 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Wed, 23 Oct 2019 17:23:29 INFO     setting ignored attribute vectors_vocab_norm to None
Wed, 23 Oct 2019 17:23:31 INFO     setting ignored attribute buckets_word to None
Wed, 23 Oct 2019 17:23:31 INFO     setting ignored attribute vectors_norm to None
Wed, 23 Oct 2019 17:23:31 INFO     setting ignored attribute vectors_ngrams_norm to None
Wed, 23 Oct 2019 17:23:31 INFO     loaded fasttext/model.model
Wed, 23 Oct 2019 17:23:34 WARNING   * Debugger is active!
Wed, 23 Oct 2019 17:23:34 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 17:23:35 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 17:24:12 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Wed, 23 Oct 2019 17:24:13 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Wed, 23 Oct 2019 17:24:14 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Wed, 23 Oct 2019 17:24:46 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Wed, 23 Oct 2019 17:24:48 INFO     setting ignored attribute vectors_vocab_norm to None
Wed, 23 Oct 2019 17:24:48 INFO     setting ignored attribute buckets_word to None
Wed, 23 Oct 2019 17:24:48 INFO     setting ignored attribute vectors_norm to None
Wed, 23 Oct 2019 17:24:48 INFO     setting ignored attribute vectors_ngrams_norm to None
Wed, 23 Oct 2019 17:24:48 INFO     loaded fasttext/model.model
Wed, 23 Oct 2019 17:24:49 INFO      * Restarting with stat
Wed, 23 Oct 2019 17:24:57 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Wed, 23 Oct 2019 17:24:58 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Wed, 23 Oct 2019 17:25:01 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Wed, 23 Oct 2019 17:26:08 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Wed, 23 Oct 2019 17:26:11 INFO     setting ignored attribute vectors_vocab_norm to None
Wed, 23 Oct 2019 17:26:12 INFO     setting ignored attribute buckets_word to None
Wed, 23 Oct 2019 17:26:12 INFO     setting ignored attribute vectors_norm to None
Wed, 23 Oct 2019 17:26:12 INFO     setting ignored attribute vectors_ngrams_norm to None
Wed, 23 Oct 2019 17:26:12 INFO     loaded fasttext/model.model
Wed, 23 Oct 2019 17:26:12 WARNING   * Debugger is active!
Wed, 23 Oct 2019 17:26:12 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 17:26:13 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 17:27:21 INFO     127.0.0.1 - - [23/Oct/2019 17:27:21] "[37mGET / HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 17:27:23 INFO     127.0.0.1 - - [23/Oct/2019 17:27:23] "[37mGET /search HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 17:27:28 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: FastText
Wed, 23 Oct 2019 17:27:28 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Wed, 23 Oct 2019 17:27:29 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Wed, 23 Oct 2019 17:27:30 ERROR    Error with query Глаза очень любят свет Индия и Пакистан что делать and model FastText:

 repr(e)
Traceback (most recent call last):
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\engine_and_logging.py", line 19, in dosearch
    result=search(query, method)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 118, in search
    evaluation_df = metric(query, model)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 56, in metric
    metric_value = td_metric(sent_vector, df)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 66, in td_metric
    cos_sim = data.apply(lambda row: cosine_similarity(row.values.reshape(1, -1), query)[0][0], axis=1)
  File "C:\Python36\lib\site-packages\pandas\core\frame.py", line 6928, in apply
    return op.get_result()
  File "C:\Python36\lib\site-packages\pandas\core\apply.py", line 186, in get_result
    return self.apply_standard()
  File "C:\Python36\lib\site-packages\pandas\core\apply.py", line 292, in apply_standard
    self.apply_series_generator()
  File "C:\Python36\lib\site-packages\pandas\core\apply.py", line 321, in apply_series_generator
    results[i] = self.f(v)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 66, in <lambda>
    cos_sim = data.apply(lambda row: cosine_similarity(row.values.reshape(1, -1), query)[0][0], axis=1)
  File "C:\Python36\lib\site-packages\sklearn\metrics\pairwise.py", line 1027, in cosine_similarity
    X, Y = check_pairwise_arrays(X, Y)
  File "C:\Python36\lib\site-packages\sklearn\metrics\pairwise.py", line 114, in check_pairwise_arrays
    estimator=estimator)
  File "C:\Python36\lib\site-packages\sklearn\utils\validation.py", line 521, in check_array
    "if it contains a single sample.".format(array))
ValueError: ('Expected 2D array, got 1D array instead:\narray=[ 1.43590836e-03  5.51346844e-02  1.94541141e-01  4.87821182e-02\n -1.23045810e-01 -1.24234632e-02 -3.38062585e-02 -9.91944692e-02\n -6.39763368e-02 -4.00960259e-02 -9.98572305e-02  1.05638431e-01\n  5.19194784e-02 -3.53496160e-01  1.00424980e-01  1.88234212e-01\n  1.50026943e-01  7.99226141e-02 -1.84190092e-01  5.74612979e-02\n -2.56974946e-01  2.61868155e-01  8.13706016e-02 -6.19610016e-02\n  1.31500379e-02  1.08017049e-01 -9.80924118e-02 -1.58165182e-05\n  8.26940196e-02 -1.87685766e-02 -2.71387848e-02 -1.46980821e-01\n -8.73689620e-02 -1.45089410e-01 -1.63225159e-01 -9.61961847e-02\n  1.25308483e-01 -4.60446018e-02  6.33836910e-03  2.34665370e-02\n  8.77465650e-02 -2.79140197e-01  4.53537721e-02  3.36264390e-02\n  1.37494304e-02 -1.63123131e-01  4.23680459e-03  1.45862389e-01\n -8.23855786e-02 -1.64786415e-01 -1.86245126e-01  1.11456900e-01\n -1.24336186e-01 -5.59420809e-02 -7.36965042e-02  1.06122980e-01\n  1.07213968e-02 -9.16327190e-02 -5.55268465e-02 -1.61642712e-01\n -2.49800411e-01 -6.25390948e-02  2.08851339e-03 -1.10847760e-01\n  5.87066997e-02  1.65766764e-01 -2.02239338e-01  1.17972194e-01\n -5.31955202e-02 -7.19843805e-03  3.44647488e-02 -2.64642587e-03\n -3.30490559e-02  1.49318306e-01 -4.97468795e-02  2.18735093e-01\n -1.13622198e-01  7.68995179e-04 -1.73661518e-01 -1.54676799e-02\n  3.40967132e-02  6.18901971e-02 -2.53018596e-02  5.37738140e-02\n  8.18358846e-02 -6.18978036e-02 -6.20619076e-02 -1.19548910e-01\n -5.02569771e-02 -2.28694585e-01  9.21431918e-02 -7.20115735e-02\n  4.77871139e-02 -1.09798566e-01 -9.27374650e-02  1.83073959e-01\n -2.12778359e-02 -1.27528822e-01 -4.59424787e-02  4.05703747e-02\n  8.74139837e-02  1.30785735e-01  3.22145779e-02  9.14739498e-03\n  1.24012865e-01  7.16474945e-02 -1.21261705e-01  1.04883067e-01\n  1.28165310e-01 -1.41212328e-01 -6.59690643e-02  3.51780915e-01\n -3.77815254e-02  4.97687624e-02 -2.20273911e-02 -2.08089139e-01\n -4.60906869e-03  2.84288770e-02 -2.30768114e-01  1.37692841e-01\n  1.57388316e-01 -1.24110122e-01 -2.86348680e-02  4.69782927e-02\n  6.08492781e-02 -1.49624914e-02  2.97408918e-02 -1.27878122e-01\n -8.16547291e-02  2.35481448e-01  1.13590056e-01 -4.97081032e-02\n -3.74142433e-02  1.13925709e-01 -1.78844648e-01  1.07839966e-01\n  1.97506464e-02 -3.00774095e-02 -2.64974140e-01 -3.04034640e-02\n  4.51980989e-02 -1.02370231e-01  1.24803897e-01 -1.19304825e-02\n -1.38350286e-01 -6.65757148e-02 -3.60678881e-02  1.51837671e-01\n -1.85902456e-01 -3.07236330e-02  7.87836156e-02  2.89808759e-01\n -4.37398380e-02 -3.45653423e-02  7.32140216e-02  9.86249782e-02\n -1.40527760e-01 -3.17762468e-02 -1.42841688e-01  1.38119431e-01\n  7.62337779e-02 -5.51335522e-02  1.23008136e-01  1.68758087e-01\n  2.06332829e-02  2.28376048e-01  6.39204468e-03  6.79549202e-03\n  8.81695189e-02 -2.58742037e-01 -1.65660626e-02 -2.29324330e-01\n  1.78461015e-02  1.37778856e-01 -1.23423737e-01 -2.97522162e-02\n  1.14468338e-01  1.41976364e-01  1.11303839e-01  5.93385313e-03\n -4.68728936e-02 -1.41969558e-01 -1.23406115e-01  1.22158376e-01\n -1.63931774e-01 -4.68593117e-02 -7.61366148e-02 -1.36435133e-01\n -1.14266557e-01  1.83948604e-01  7.75219351e-02 -2.14290707e-02\n  2.26348722e-01 -1.23515211e-01 -8.65705003e-02 -1.20355447e-01\n -4.93101106e-02  4.65631176e-02 -1.03321398e-01  2.31319999e-01\n  2.42668135e-02 -8.43789122e-02 -6.03058322e-03  4.89398518e-02\n  1.10647902e-01  1.31810017e-01  1.63070215e-01  2.21761842e-01\n -4.79886920e-02 -1.94646700e-01  2.12577895e-02  9.35773188e-02\n -2.72862187e-01  1.10142269e-01 -1.32641923e-01  1.70850062e-01\n -8.94876649e-02 -9.33787573e-02  3.76899407e-02  4.61223857e-02\n -7.15409275e-02  9.57443235e-02 -4.24267461e-02  5.44601572e-03\n -1.54902997e-01 -1.23369345e-01 -1.06917322e-03 -6.75794066e-02\n  1.24062480e-01 -2.09330657e-01 -6.88042333e-02  7.71702613e-02\n  7.77878112e-02 -1.26682826e-01 -9.20027441e-02 -1.83096741e-01\n  7.20889894e-02 -7.03831916e-02 -1.35745555e-02  2.14740737e-01\n -2.51984530e-02 -5.57685639e-02  1.66563884e-01 -3.09122119e-02\n  4.81708041e-02 -2.53205254e-01  5.00032731e-02 -1.05917913e-01\n -1.55135989e-01 -2.11726943e-02 -5.46812309e-02 -1.26179419e-01\n  1.23880135e-01  6.41636178e-02 -2.80301935e-01  1.45490791e-01\n  1.77698142e-02 -2.65913109e-01 -8.32332817e-02 -3.96111820e-02\n -8.29884820e-02 -9.22711814e-02 -1.71718847e-02  2.55744005e-02\n  2.99894538e-02  2.89994996e-01  8.53229810e-02 -2.44335419e-01\n  8.90809524e-02  1.53741852e-02 -8.12369340e-02 -1.36649801e-01\n -1.23808780e-01  9.04697475e-02 -2.50835838e-01  1.19011543e-03\n  6.99439175e-02  1.42450189e-01 -2.22034900e-01 -4.30778755e-02\n -1.49726730e-01  1.94074831e-01  6.90720946e-02 -1.49317472e-02\n  3.65109593e-02  6.15984621e-02 -1.72418333e-01  6.74292360e-02\n -6.16470554e-02 -1.07737057e-01  1.04935937e-01  1.28558888e-01\n -6.56971176e-03 -2.35592350e-02 -2.37673574e-01 -2.38556568e-01\n  2.51139562e-02  5.10042805e-02  1.87455359e-01  4.30275290e-02].\nReshape your data either using array.reshape(-1, 1) if your data has a single feature or array.reshape(1, -1) if it contains a single sample.', 'occurred at index 0')
Wed, 23 Oct 2019 17:27:30 INFO     127.0.0.1 - - [23/Oct/2019 17:27:30] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=FastText HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 17:31:45 INFO      * Detected change in 'C:\\Users\\Cyril\\proga\\InfoSearch_2019\\project\\search_and_eval.py', reloading
Wed, 23 Oct 2019 17:31:46 INFO      * Restarting with stat
Wed, 23 Oct 2019 17:31:54 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Wed, 23 Oct 2019 17:31:54 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Wed, 23 Oct 2019 17:31:55 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Wed, 23 Oct 2019 17:35:45 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Wed, 23 Oct 2019 17:35:46 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Wed, 23 Oct 2019 17:35:46 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Wed, 23 Oct 2019 17:36:23 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Wed, 23 Oct 2019 17:36:26 INFO     setting ignored attribute vectors_vocab_norm to None
Wed, 23 Oct 2019 17:36:27 INFO     setting ignored attribute buckets_word to None
Wed, 23 Oct 2019 17:36:27 INFO     setting ignored attribute vectors_norm to None
Wed, 23 Oct 2019 17:36:27 INFO     setting ignored attribute vectors_ngrams_norm to None
Wed, 23 Oct 2019 17:36:27 INFO     loaded fasttext/model.model
Wed, 23 Oct 2019 17:36:28 INFO      * Restarting with stat
Wed, 23 Oct 2019 17:36:38 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Wed, 23 Oct 2019 17:36:39 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Wed, 23 Oct 2019 17:36:39 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Wed, 23 Oct 2019 17:37:19 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Wed, 23 Oct 2019 17:37:24 INFO     setting ignored attribute vectors_vocab_norm to None
Wed, 23 Oct 2019 17:37:24 INFO     setting ignored attribute buckets_word to None
Wed, 23 Oct 2019 17:37:24 INFO     setting ignored attribute vectors_norm to None
Wed, 23 Oct 2019 17:37:24 INFO     setting ignored attribute vectors_ngrams_norm to None
Wed, 23 Oct 2019 17:37:24 INFO     loaded fasttext/model.model
Wed, 23 Oct 2019 17:37:25 WARNING   * Debugger is active!
Wed, 23 Oct 2019 17:37:25 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 17:37:26 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 17:48:31 INFO     127.0.0.1 - - [23/Oct/2019 17:48:31] "[37mGET / HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 17:48:34 INFO     127.0.0.1 - - [23/Oct/2019 17:48:34] "[37mGET /search HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 17:48:39 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: FastText
Wed, 23 Oct 2019 17:48:39 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Wed, 23 Oct 2019 17:48:41 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Wed, 23 Oct 2019 17:48:46 INFO     Result: [['мусульмане в Индии, особенно в гуджарате, в Индии ненавижу по-прежнему narendra modi', 0.7712027158439919], ['что думают пакистанцы об Индии', 0.7683360313934235], ['какие хорошие дела делали британцы в Индии и индейцах во время британского раджа', 0.7672186072616108], ['почему индейцы так одержимы тем, что люди из других стран думают об Индии', 0.7542473853781049], ['если офицеры за границей получают гораздо большую зарплату, чем в Индии, что действительно решает, кто будет вывешен за границу и кто в Индии', 0.7540632039397294], ['я индиан и хочу жениться на пакистанской девушке, что мне делать', 0.7425711697478875], ['каковы ваши взгляды на Индию, запрещающие 500 и 1000 нот, каким образом это повлияет на экономику Индии', 0.7399389654546541], ['что будет судьбой индийской экономики, если индийцы перестанут покупать китайский продукт, и вся торговля между Индией и Китаем подходит к концу', 0.7391537296042988], ['что произойдет с британской империей и ее влиянием на целую азию, если бы индийские люди смогли в своем бунте 1857 года добиться независимости', 0.7345624668879931], ['что может сделать Индия в сирии', 0.7340358395454921]]
Wed, 23 Oct 2019 17:48:46 INFO     127.0.0.1 - - [23/Oct/2019 17:48:46] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=FastText HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 18:06:52 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Wed, 23 Oct 2019 18:06:53 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Wed, 23 Oct 2019 18:06:53 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Wed, 23 Oct 2019 18:07:30 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Wed, 23 Oct 2019 18:07:32 INFO     setting ignored attribute vectors_vocab_norm to None
Wed, 23 Oct 2019 18:07:32 INFO     setting ignored attribute buckets_word to None
Wed, 23 Oct 2019 18:07:32 INFO     setting ignored attribute vectors_norm to None
Wed, 23 Oct 2019 18:07:32 INFO     setting ignored attribute vectors_ngrams_norm to None
Wed, 23 Oct 2019 18:07:32 INFO     loaded fasttext/model.model
Wed, 23 Oct 2019 18:07:33 INFO      * Restarting with stat
Wed, 23 Oct 2019 18:07:44 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Wed, 23 Oct 2019 18:07:45 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Wed, 23 Oct 2019 18:07:45 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Wed, 23 Oct 2019 18:08:42 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Wed, 23 Oct 2019 18:08:48 INFO     setting ignored attribute vectors_vocab_norm to None
Wed, 23 Oct 2019 18:08:49 INFO     setting ignored attribute buckets_word to None
Wed, 23 Oct 2019 18:08:49 INFO     setting ignored attribute vectors_norm to None
Wed, 23 Oct 2019 18:08:49 INFO     setting ignored attribute vectors_ngrams_norm to None
Wed, 23 Oct 2019 18:08:49 INFO     loaded fasttext/model.model
Wed, 23 Oct 2019 18:08:50 WARNING   * Debugger is active!
Wed, 23 Oct 2019 18:08:50 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 18:08:51 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 18:09:02 INFO     127.0.0.1 - - [23/Oct/2019 18:09:02] "[37mGET / HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 18:10:45 INFO     127.0.0.1 - - [23/Oct/2019 18:10:45] "[37mGET /search HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 18:24:15 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Wed, 23 Oct 2019 18:24:16 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Wed, 23 Oct 2019 18:24:16 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Wed, 23 Oct 2019 18:24:54 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Wed, 23 Oct 2019 18:24:56 INFO     setting ignored attribute vectors_vocab_norm to None
Wed, 23 Oct 2019 18:24:56 INFO     setting ignored attribute buckets_word to None
Wed, 23 Oct 2019 18:24:56 INFO     setting ignored attribute vectors_norm to None
Wed, 23 Oct 2019 18:24:56 INFO     setting ignored attribute vectors_ngrams_norm to None
Wed, 23 Oct 2019 18:24:56 INFO     loaded fasttext/model.model
Wed, 23 Oct 2019 18:24:57 INFO      * Restarting with stat
Wed, 23 Oct 2019 18:25:07 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Wed, 23 Oct 2019 18:25:08 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Wed, 23 Oct 2019 18:25:10 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Wed, 23 Oct 2019 18:26:26 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Wed, 23 Oct 2019 18:26:31 INFO     setting ignored attribute vectors_vocab_norm to None
Wed, 23 Oct 2019 18:26:31 INFO     setting ignored attribute buckets_word to None
Wed, 23 Oct 2019 18:26:31 INFO     setting ignored attribute vectors_norm to None
Wed, 23 Oct 2019 18:26:31 INFO     setting ignored attribute vectors_ngrams_norm to None
Wed, 23 Oct 2019 18:26:31 INFO     loaded fasttext/model.model
Wed, 23 Oct 2019 18:26:32 WARNING   * Debugger is active!
Wed, 23 Oct 2019 18:26:32 INFO      * Debugger PIN: 311-371-793
Wed, 23 Oct 2019 18:26:32 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Wed, 23 Oct 2019 18:26:59 INFO     127.0.0.1 - - [23/Oct/2019 18:26:59] "[37mGET / HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 18:27:02 INFO     127.0.0.1 - - [23/Oct/2019 18:27:02] "[37mGET /search HTTP/1.1[0m" 200 -
Wed, 23 Oct 2019 18:27:08 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: BM25
Wed, 23 Oct 2019 18:27:08 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Wed, 23 Oct 2019 18:27:09 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Wed, 23 Oct 2019 18:27:28 INFO     Result: [['что я не должен делать в Индии', 0.44998424860114994], ['почему ты ее любишь', 0.34919280977236367], ['пакистан уничтожит Индию', 0.342092013116424], ['если будет война между Индией и Пакистаном, которая выиграет', 0.3349566555365755], ['если будет война между Индией и Пакистаном, которая выиграет', 0.3349566555365755], ['как мы воссоединяем Индию и Пакистан', 0.3204366886568548], ['должна ли быть война между Индией и Пакистаном для кашмира', 0.2946395922827147], ['что делать, если кошка царапает глаз', 0.28585039204986534], ['мне 18, что я должен делать', 0.28295424730916724], ['моя податливость меня любит; что нам теперь делать', 0.28000839102467084]]
Wed, 23 Oct 2019 18:27:28 INFO     127.0.0.1 - - [23/Oct/2019 18:27:28] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=BM25 HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 02:32:11 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 02:32:12 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 02:32:12 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 02:33:00 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 02:33:01 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 02:33:02 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 02:33:02 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 02:33:02 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 02:33:02 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 02:36:05 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 02:36:05 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 02:36:06 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 02:36:38 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 02:36:39 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 02:36:39 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 02:36:39 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 02:36:39 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 02:36:39 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 02:38:01 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 02:38:02 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 02:38:02 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 02:38:46 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 02:38:48 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 02:38:48 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 02:38:48 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 02:38:48 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 02:38:48 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 02:52:45 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\compat\v2_compat.py:65: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
Instructions for updating:
non-resource variables are not supported in the long term
Fri, 25 Oct 2019 02:52:45 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 02:52:45 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 02:52:46 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 02:53:27 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 02:53:28 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 02:53:29 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 02:53:29 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 02:53:29 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 02:53:29 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 03:07:52 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 03:07:53 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 03:07:53 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 03:08:46 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 03:08:48 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 03:08:49 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 03:08:49 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 03:08:49 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 03:08:49 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 03:08:51 INFO      * Restarting with stat
Fri, 25 Oct 2019 03:09:09 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 03:09:10 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 03:09:11 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 03:10:14 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 03:10:20 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 03:10:21 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 03:10:21 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 03:10:21 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 03:10:21 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 03:10:21 WARNING   * Debugger is active!
Fri, 25 Oct 2019 03:10:21 INFO      * Debugger PIN: 311-371-793
Fri, 25 Oct 2019 03:10:22 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Fri, 25 Oct 2019 03:10:44 INFO     127.0.0.1 - - [25/Oct/2019 03:10:44] "[37mGET / HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:10:48 INFO     127.0.0.1 - - [25/Oct/2019 03:10:48] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:10:48 INFO     127.0.0.1 - - [25/Oct/2019 03:10:48] "[33mGET /title.jpeg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 03:10:57 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: BM25
Fri, 25 Oct 2019 03:10:57 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 03:10:58 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 03:11:23 INFO     Result: [['что я не должен делать в Индии', 0.44998424860114994], ['почему ты ее любишь', 0.34919280977236367], ['пакистан уничтожит Индию', 0.342092013116424], ['если будет война между Индией и Пакистаном, которая выиграет', 0.3349566555365755], ['если будет война между Индией и Пакистаном, которая выиграет', 0.3349566555365755], ['как мы воссоединяем Индию и Пакистан', 0.3204366886568548], ['должна ли быть война между Индией и Пакистаном для кашмира', 0.2946395922827147], ['что делать, если кошка царапает глаз', 0.28585039204986534], ['мне 18, что я должен делать', 0.28295424730916724], ['моя податливость меня любит; что нам теперь делать', 0.28000839102467084]]
Fri, 25 Oct 2019 03:11:23 INFO     127.0.0.1 - - [25/Oct/2019 03:11:23] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=BM25 HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:11:42 INFO     127.0.0.1 - - [25/Oct/2019 03:11:42] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:11:42 INFO     127.0.0.1 - - [25/Oct/2019 03:11:42] "[33mGET /title.jpeg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 03:11:43 INFO     127.0.0.1 - - [25/Oct/2019 03:11:43] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:11:43 INFO     127.0.0.1 - - [25/Oct/2019 03:11:43] "[33mGET /title.jpeg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 03:12:56 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: TF-IDF
Fri, 25 Oct 2019 03:12:56 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 03:12:56 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 03:13:17 INFO     Result: [['почему ты ее любишь', 0.3480224947572693], ['пакистан уничтожит Индию', 0.3265750362333635], ['что я не должен делать в Индии', 0.31793591057660775], ['как мы воссоединяем Индию и Пакистан', 0.31235048310693103], ['если будет война между Индией и Пакистаном, которая выиграет', 0.3045078515819525], ['если будет война между Индией и Пакистаном, которая выиграет', 0.3045078515819525], ['что делать, если кошка царапает глаз', 0.2919273804104724], ['что такое свет, состоящий из', 0.28207196087539493], ['свет нуждается в среде, чтобы путешествовать так, как солнечный свет приходит из космоса', 0.2803070265742386], ['как мне перестать любить его', 0.2785526451761123]]
Fri, 25 Oct 2019 03:13:17 INFO     127.0.0.1 - - [25/Oct/2019 03:13:17] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=TF-IDF HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:13:29 INFO     127.0.0.1 - - [25/Oct/2019 03:13:29] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:13:29 INFO     127.0.0.1 - - [25/Oct/2019 03:13:29] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 03:13:39 INFO     127.0.0.1 - - [25/Oct/2019 03:13:39] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:13:39 INFO     127.0.0.1 - - [25/Oct/2019 03:13:39] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 03:13:42 INFO     127.0.0.1 - - [25/Oct/2019 03:13:42] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:13:43 INFO     127.0.0.1 - - [25/Oct/2019 03:13:43] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 03:13:44 INFO     127.0.0.1 - - [25/Oct/2019 03:13:44] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:13:44 INFO     127.0.0.1 - - [25/Oct/2019 03:13:44] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 03:15:24 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 03:15:25 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 03:15:25 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 03:16:22 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 03:16:25 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 03:16:25 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 03:16:25 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 03:16:25 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 03:16:25 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 03:16:27 INFO      * Restarting with stat
Fri, 25 Oct 2019 03:16:49 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 03:16:50 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 03:16:51 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 03:18:00 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 03:18:03 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 03:18:04 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 03:18:04 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 03:18:04 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 03:18:04 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 03:18:05 WARNING   * Debugger is active!
Fri, 25 Oct 2019 03:18:05 INFO      * Debugger PIN: 311-371-793
Fri, 25 Oct 2019 03:18:06 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Fri, 25 Oct 2019 03:18:24 INFO     127.0.0.1 - - [25/Oct/2019 03:18:24] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:18:25 INFO     127.0.0.1 - - [25/Oct/2019 03:18:25] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 03:18:36 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: FastText
Fri, 25 Oct 2019 03:18:36 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 03:18:37 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 03:18:43 INFO     Result: [['мусульмане в Индии, особенно в гуджарате, в Индии ненавижу по-прежнему narendra modi', 0.7712027158439919], ['что думают пакистанцы об Индии', 0.7683360313934235], ['какие хорошие дела делали британцы в Индии и индейцах во время британского раджа', 0.7672186072616108], ['почему индейцы так одержимы тем, что люди из других стран думают об Индии', 0.7542473853781049], ['если офицеры за границей получают гораздо большую зарплату, чем в Индии, что действительно решает, кто будет вывешен за границу и кто в Индии', 0.7540632039397294], ['я индиан и хочу жениться на пакистанской девушке, что мне делать', 0.7425711697478875], ['каковы ваши взгляды на Индию, запрещающие 500 и 1000 нот, каким образом это повлияет на экономику Индии', 0.7399389654546541], ['что будет судьбой индийской экономики, если индийцы перестанут покупать китайский продукт, и вся торговля между Индией и Китаем подходит к концу', 0.7391537296042988], ['что произойдет с британской империей и ее влиянием на целую азию, если бы индийские люди смогли в своем бунте 1857 года добиться независимости', 0.7345624668879931], ['что может сделать Индия в сирии', 0.7340358395454921]]
Fri, 25 Oct 2019 03:18:43 INFO     127.0.0.1 - - [25/Oct/2019 03:18:43] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=FastText HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:32:53 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 03:32:53 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 03:32:54 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 03:33:33 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 03:33:34 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 03:33:34 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 03:33:34 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 03:33:34 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 03:33:34 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 03:33:35 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 03:33:35 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 03:33:36 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 03:33:36 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 03:33:42 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 03:33:42 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 03:33:42 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 03:33:42 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 03:33:43 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 03:33:44 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 03:33:44 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 03:33:44 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 03:33:47 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 03:44:08 INFO      * Restarting with stat
Fri, 25 Oct 2019 03:44:20 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 03:44:21 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 03:44:21 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 03:45:13 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 03:45:15 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 03:45:15 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 03:45:15 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 03:45:15 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 03:45:15 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 03:45:16 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 03:45:17 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 03:45:17 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 03:45:17 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 03:45:24 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 03:45:24 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 03:45:24 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 03:45:26 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 03:45:27 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 03:45:29 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 03:45:29 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 03:45:29 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 03:45:32 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 03:45:32 WARNING   * Debugger is active!
Fri, 25 Oct 2019 03:45:32 INFO      * Debugger PIN: 311-371-793
Fri, 25 Oct 2019 03:45:32 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Fri, 25 Oct 2019 03:45:40 INFO     127.0.0.1 - - [25/Oct/2019 03:45:40] "[37mGET / HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:45:44 INFO     127.0.0.1 - - [25/Oct/2019 03:45:44] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:45:44 INFO     127.0.0.1 - - [25/Oct/2019 03:45:44] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 03:45:50 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: ELMO
Fri, 25 Oct 2019 03:45:50 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 03:45:50 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 03:45:50 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 03:45:50 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 03:45:50 ERROR    Error with query Глаза очень любят свет Индия и Пакистан что делать and model ELMO:

 repr(e)
Traceback (most recent call last):
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\engine_and_logging.py", line 19, in dosearch
    result=search(query, method)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 107, in search
    evaluation_df = metric(query, model)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 76, in metric
    query = prepare_elmo_query(query, batcher, sentence_character_ids, elmo_sentence_input)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\elmo_search.py", line 20, in prepare_elmo_query
    q = [tokenize(query)]
NameError: name 'tokenize' is not defined
Fri, 25 Oct 2019 03:45:50 INFO     127.0.0.1 - - [25/Oct/2019 03:45:50] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=ELMO HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:45:50 INFO     127.0.0.1 - - [25/Oct/2019 03:45:50] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 03:47:52 INFO      * Detected change in 'C:\\Users\\Cyril\\proga\\InfoSearch_2019\\project\\elmo_search.py', reloading
Fri, 25 Oct 2019 03:47:53 INFO      * Restarting with stat
Fri, 25 Oct 2019 03:48:39 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 03:48:40 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 03:48:40 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 03:49:27 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 03:49:28 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 03:49:28 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 03:49:28 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 03:49:28 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 03:49:28 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 03:49:29 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 03:49:30 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 03:49:30 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 03:49:31 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 03:49:37 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 03:49:37 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 03:49:37 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 03:49:37 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 03:49:38 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 03:49:40 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 03:49:40 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 03:49:40 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 03:49:43 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 03:49:43 INFO      * Restarting with stat
Fri, 25 Oct 2019 03:50:00 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 03:50:00 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 03:50:01 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 03:51:12 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 03:51:17 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 03:51:18 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 03:51:18 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 03:51:18 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 03:51:18 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 03:51:19 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 03:51:20 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 03:51:20 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 03:51:21 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 03:51:27 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 03:51:27 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 03:51:27 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 03:51:27 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 03:51:28 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 03:51:29 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 03:51:29 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 03:51:29 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 03:51:32 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 03:51:32 WARNING   * Debugger is active!
Fri, 25 Oct 2019 03:51:32 INFO      * Debugger PIN: 311-371-793
Fri, 25 Oct 2019 03:51:32 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Fri, 25 Oct 2019 03:51:58 INFO     127.0.0.1 - - [25/Oct/2019 03:51:58] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:51:59 INFO     127.0.0.1 - - [25/Oct/2019 03:51:59] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 03:52:06 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: ELMO
Fri, 25 Oct 2019 03:52:06 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 03:52:07 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 03:52:07 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 03:52:07 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 03:52:07 ERROR    Error with query Глаза очень любят свет Индия и Пакистан что делать and model ELMO:

 repr(e)
Traceback (most recent call last):
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\engine_and_logging.py", line 24, in dosearch
    result=search(query, method)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 107, in search
    evaluation_df = metric(query, model)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 76, in metric
    query = prepare_elmo_query(query, batcher, sentence_character_ids, elmo_sentence_input)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\elmo_search.py", line 27, in prepare_elmo_query
    vector = crop_vec(get_elmo_vectors(sess, q, batcher,
NameError: name 'crop_vec' is not defined
Fri, 25 Oct 2019 03:52:07 INFO     127.0.0.1 - - [25/Oct/2019 03:52:07] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=ELMO HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:52:07 INFO     127.0.0.1 - - [25/Oct/2019 03:52:07] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 03:53:37 INFO      * Detected change in 'C:\\Users\\Cyril\\proga\\InfoSearch_2019\\project\\elmo_search.py', reloading
Fri, 25 Oct 2019 03:53:39 INFO      * Restarting with stat
Fri, 25 Oct 2019 03:53:49 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 03:53:50 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 03:53:50 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 03:55:03 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 03:55:03 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 03:55:04 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 03:55:46 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 03:55:47 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 03:55:49 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 03:55:49 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 03:55:49 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 03:55:49 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 03:55:49 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 03:55:50 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 03:55:50 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 03:55:52 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 03:55:57 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 03:55:57 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 03:55:57 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 03:55:57 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 03:55:58 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 03:55:59 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 03:55:59 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 03:55:59 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 03:56:02 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 03:56:02 INFO      * Restarting with stat
Fri, 25 Oct 2019 03:56:15 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 03:56:16 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 03:56:18 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 03:57:13 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 03:57:20 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 03:57:20 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 03:57:20 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 03:57:20 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 03:57:20 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 03:57:22 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 03:57:23 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 03:57:23 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 03:57:24 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 03:57:28 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 03:57:28 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 03:57:28 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 03:57:28 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 03:57:29 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 03:57:31 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 03:57:31 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 03:57:31 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 03:57:34 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 03:57:34 WARNING   * Debugger is active!
Fri, 25 Oct 2019 03:57:35 INFO      * Debugger PIN: 311-371-793
Fri, 25 Oct 2019 03:57:35 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Fri, 25 Oct 2019 03:57:37 INFO     127.0.0.1 - - [25/Oct/2019 03:57:37] "[37mGET / HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:57:43 INFO     127.0.0.1 - - [25/Oct/2019 03:57:43] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:57:43 INFO     127.0.0.1 - - [25/Oct/2019 03:57:43] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 03:57:50 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: ELMO
Fri, 25 Oct 2019 03:57:50 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 03:57:50 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 03:57:50 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 03:57:50 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 03:57:50 ERROR    Error with query Глаза очень любят свет Индия и Пакистан что делать and model ELMO:

 repr(e)
Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1113, in _run
    subfeed, allow_tensor=True, allow_operation=False)
  File "C:\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3796, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3875, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(?, ?, 50), dtype=int32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\engine_and_logging.py", line 24, in dosearch
    result=search(query, method)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 107, in search
    evaluation_df = metric(query, model)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 76, in metric
    query = prepare_elmo_query(query, batcher, sentence_character_ids, elmo_sentence_input)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\elmo_search.py", line 41, in prepare_elmo_query
    elmo_sentence_input)[0], q[0])
  File "simple_elmo\elmo_helpers.py", line 37, in get_elmo_vectors
    feed_dict={sentence_character_ids: sentence_ids})
  File "C:\Python36\lib\site-packages\tensorflow\python\client\session.py", line 950, in run
    run_metadata_ptr)
  File "C:\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1116, in _run
    'Cannot interpret feed_dict key as Tensor: ' + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(?, ?, 50), dtype=int32) is not an element of this graph.
Fri, 25 Oct 2019 03:57:51 INFO     127.0.0.1 - - [25/Oct/2019 03:57:51] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=ELMO HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 03:57:51 INFO     127.0.0.1 - - [25/Oct/2019 03:57:51] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 04:03:59 INFO      * Detected change in 'C:\\Users\\Cyril\\proga\\InfoSearch_2019\\project\\search_and_eval.py', reloading
Fri, 25 Oct 2019 04:04:01 INFO      * Restarting with stat
Fri, 25 Oct 2019 04:04:23 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 04:04:23 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 04:04:24 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 04:05:07 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 04:05:09 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 04:05:11 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 04:05:11 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 04:05:11 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 04:05:11 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 04:05:12 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 04:05:13 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 04:05:13 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 04:05:14 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 04:05:19 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 04:05:19 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 04:05:19 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 04:05:20 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 04:05:20 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 04:05:23 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 04:05:23 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 04:05:23 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 04:05:26 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 04:05:26 INFO      * Restarting with stat
Fri, 25 Oct 2019 04:05:41 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 04:05:42 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 04:05:43 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 04:06:41 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 04:06:45 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 04:06:46 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 04:06:46 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 04:06:46 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 04:06:46 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 04:06:46 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 04:06:48 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 04:06:48 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 04:06:48 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 04:07:12 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 04:07:13 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 04:07:13 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 04:07:39 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 04:07:42 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 04:07:42 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 04:07:42 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 04:07:42 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 04:07:42 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 04:07:43 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 04:07:43 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 04:07:43 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 04:07:44 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 04:07:53 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 04:07:53 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 04:07:53 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 04:07:54 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 04:07:55 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 04:07:56 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 04:07:56 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 04:07:56 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 04:07:59 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 04:08:00 INFO      * Restarting with stat
Fri, 25 Oct 2019 04:08:13 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 04:08:13 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 04:08:14 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 04:09:12 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 04:09:18 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 04:09:19 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 04:09:19 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 04:09:19 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 04:09:19 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 04:09:20 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 04:09:21 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 04:09:21 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 04:09:22 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 04:09:28 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 04:09:28 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 04:09:28 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 04:09:28 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 04:09:28 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 04:09:30 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 04:09:30 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 04:09:30 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 04:09:32 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 04:09:32 WARNING   * Debugger is active!
Fri, 25 Oct 2019 04:09:32 INFO      * Debugger PIN: 311-371-793
Fri, 25 Oct 2019 04:09:33 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Fri, 25 Oct 2019 04:10:17 INFO     127.0.0.1 - - [25/Oct/2019 04:10:17] "[37mGET / HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 04:14:15 INFO     127.0.0.1 - - [25/Oct/2019 04:14:15] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 04:14:15 INFO     127.0.0.1 - - [25/Oct/2019 04:14:15] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 04:14:23 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: ELMO
Fri, 25 Oct 2019 04:14:23 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 04:14:23 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 04:14:23 ERROR    Error with query Глаза очень любят свет Индия и Пакистан что делать and model ELMO:

 repr(e)
Traceback (most recent call last):
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\engine_and_logging.py", line 24, in dosearch
    result=search(query, method)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 107, in search
    evaluation_df = metric(query, model)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 77, in metric
    metric_value = search_tool_elmo(query, batcher, sentence_character_ids, elmo_sentence_input, indexed)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\elmo_search.py", line 50, in search_tool_elmo
    indexed = pd.read_csv('elmo_index.csv', index_col=None)
NameError: name 'pd' is not defined
Fri, 25 Oct 2019 04:14:23 INFO     127.0.0.1 - - [25/Oct/2019 04:14:23] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=ELMO HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 04:14:23 INFO     127.0.0.1 - - [25/Oct/2019 04:14:23] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 04:15:47 INFO      * Detected change in 'C:\\Users\\Cyril\\proga\\InfoSearch_2019\\project\\elmo_search.py', reloading
Fri, 25 Oct 2019 04:15:49 INFO      * Restarting with stat
Fri, 25 Oct 2019 04:16:11 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 04:16:12 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 04:16:12 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 04:16:48 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 04:16:49 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 04:16:50 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 04:16:50 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 04:16:50 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 04:16:50 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 04:16:50 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 04:16:51 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 04:16:51 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 04:16:51 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 04:16:56 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 04:16:56 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 04:16:56 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 04:16:57 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 04:16:58 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 04:17:01 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 04:17:01 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 04:17:01 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 04:17:07 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 04:17:08 INFO      * Restarting with stat
Fri, 25 Oct 2019 04:17:25 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 04:17:25 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 04:17:26 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 04:18:28 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 04:18:32 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 04:18:33 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 04:18:33 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 04:18:33 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 04:18:33 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 04:18:33 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 04:18:34 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 04:18:34 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 04:18:34 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 04:18:41 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 04:18:41 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 04:18:41 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 04:18:42 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 04:18:42 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 04:18:44 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 04:18:44 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 04:18:44 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 04:18:47 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 04:18:47 WARNING   * Debugger is active!
Fri, 25 Oct 2019 04:18:47 INFO      * Debugger PIN: 311-371-793
Fri, 25 Oct 2019 04:18:47 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Fri, 25 Oct 2019 04:18:51 INFO     127.0.0.1 - - [25/Oct/2019 04:18:51] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 04:18:51 INFO     127.0.0.1 - - [25/Oct/2019 04:18:51] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 04:19:02 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: ELMO
Fri, 25 Oct 2019 04:19:02 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 04:19:03 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 04:19:06 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 04:19:06 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 04:37:25 ERROR    Error with query Глаза очень любят свет Индия и Пакистан что делать and model ELMO:

 repr(e)
Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1113, in _run
    subfeed, allow_tensor=True, allow_operation=False)
  File "C:\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3796, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3875, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(?, ?, 50), dtype=int32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\engine_and_logging.py", line 24, in dosearch
    result=search(query, method)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 107, in search
    evaluation_df = metric(query, model)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 77, in metric
    metric_value = search_tool_elmo(query, batcher, sentence_character_ids, elmo_sentence_input, indexed)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\elmo_search.py", line 71, in search_tool_elmo
    elmo_sentence_input)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\elmo_search.py", line 51, in prepare_elmo_query
    elmo_sentence_input)[0], q[0])
  File "simple_elmo\elmo_helpers.py", line 37, in get_elmo_vectors
    feed_dict={sentence_character_ids: sentence_ids})
  File "C:\Python36\lib\site-packages\tensorflow\python\client\session.py", line 950, in run
    run_metadata_ptr)
  File "C:\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1116, in _run
    'Cannot interpret feed_dict key as Tensor: ' + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(?, ?, 50), dtype=int32) is not an element of this graph.
Fri, 25 Oct 2019 04:37:25 INFO     127.0.0.1 - - [25/Oct/2019 04:37:25] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=ELMO HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 04:37:25 INFO     127.0.0.1 - - [25/Oct/2019 04:37:25] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 04:42:09 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 04:42:09 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 04:42:10 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 04:42:55 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 04:42:57 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 04:42:57 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 04:42:57 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 04:42:57 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 04:42:57 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 04:42:58 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 04:42:58 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 04:42:58 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 04:42:59 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 04:43:05 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 04:43:05 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 04:43:05 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 04:43:06 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 04:43:07 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 04:43:09 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 04:43:10 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 04:43:10 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 04:43:12 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 04:43:13 INFO      * Restarting with stat
Fri, 25 Oct 2019 04:43:25 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 04:43:26 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 04:43:26 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 04:44:17 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 04:44:22 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 04:44:23 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 04:44:23 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 04:44:23 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 04:44:23 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 04:44:24 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 04:44:25 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 04:44:25 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 04:44:26 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 04:44:32 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 04:44:32 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 04:44:32 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 04:44:32 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 04:44:32 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 04:44:34 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 04:44:34 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 04:44:34 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 04:44:36 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 04:44:37 WARNING   * Debugger is active!
Fri, 25 Oct 2019 04:44:37 INFO      * Debugger PIN: 311-371-793
Fri, 25 Oct 2019 04:44:37 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Fri, 25 Oct 2019 04:44:37 INFO     127.0.0.1 - - [25/Oct/2019 04:44:37] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 04:44:37 INFO     127.0.0.1 - - [25/Oct/2019 04:44:37] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 04:44:55 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: ELMO
Fri, 25 Oct 2019 04:44:55 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 04:44:56 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 04:44:56 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 04:44:56 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 04:44:56 ERROR    Error with query Глаза очень любят свет Индия и Пакистан что делать and model ELMO:

 repr(e)
Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1113, in _run
    subfeed, allow_tensor=True, allow_operation=False)
  File "C:\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3796, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3875, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(?, ?, 50), dtype=int32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\engine_and_logging.py", line 24, in dosearch
    result=search(query, method)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 107, in search
    evaluation_df = metric(query, model)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 77, in metric
    metric_value = search_tool_elmo(query, batcher, sentence_character_ids, elmo_sentence_input, indexed)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\elmo_search.py", line 71, in search_tool_elmo
    elmo_sentence_input)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\elmo_search.py", line 51, in prepare_elmo_query
    elmo_sentence_input)[0], q[0])
  File "simple_elmo\elmo_helpers.py", line 37, in get_elmo_vectors
    feed_dict={sentence_character_ids: sentence_ids})
  File "C:\Python36\lib\site-packages\tensorflow\python\client\session.py", line 950, in run
    run_metadata_ptr)
  File "C:\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1116, in _run
    'Cannot interpret feed_dict key as Tensor: ' + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(?, ?, 50), dtype=int32) is not an element of this graph.
Fri, 25 Oct 2019 04:44:57 INFO     127.0.0.1 - - [25/Oct/2019 04:44:57] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=ELMO HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 04:44:57 INFO     127.0.0.1 - - [25/Oct/2019 04:44:57] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 10:40:08 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 10:40:09 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 10:40:10 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 10:41:05 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 10:41:06 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 10:41:07 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 10:41:07 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 10:41:07 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 10:41:07 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 10:41:08 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 10:41:09 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 10:41:10 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 10:41:11 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 10:41:16 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 10:41:16 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 10:41:16 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 10:41:17 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 10:41:17 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 10:41:19 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 10:41:19 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 10:41:19 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 10:41:23 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 10:41:23 INFO      * Restarting with stat
Fri, 25 Oct 2019 10:41:37 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 10:41:37 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 10:41:38 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 10:42:33 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 10:42:35 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 10:42:36 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 10:42:36 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 10:42:37 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 10:42:37 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 10:42:39 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 10:42:40 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 10:42:40 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 10:42:40 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 10:42:46 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 10:42:46 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 10:42:46 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 10:42:46 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 10:42:47 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 10:42:48 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 10:42:48 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 10:42:48 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 10:42:51 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 10:42:51 WARNING   * Debugger is active!
Fri, 25 Oct 2019 10:42:51 INFO      * Debugger PIN: 311-371-793
Fri, 25 Oct 2019 10:42:51 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Fri, 25 Oct 2019 10:42:52 INFO     127.0.0.1 - - [25/Oct/2019 10:42:52] "[37mGET / HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 10:42:52 INFO     127.0.0.1 - - [25/Oct/2019 10:42:52] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 10:42:57 INFO     127.0.0.1 - - [25/Oct/2019 10:42:57] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 10:42:57 INFO     127.0.0.1 - - [25/Oct/2019 10:42:57] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 10:44:40 INFO     Query: над тобою солнце светит, Родина моя!, Method: ELMO
Fri, 25 Oct 2019 10:44:40 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 10:44:40 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 10:44:41 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 10:44:41 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 10:44:41 ERROR    Error with query над тобою солнце светит, Родина моя! and model ELMO:

 repr(e)
Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1113, in _run
    subfeed, allow_tensor=True, allow_operation=False)
  File "C:\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3796, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3875, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(?, ?, 50), dtype=int32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\engine_and_logging.py", line 24, in dosearch
    result=search(query, method)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 107, in search
    evaluation_df = metric(query, model)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 77, in metric
    metric_value = search_tool_elmo(query, batcher, sentence_character_ids, elmo_sentence_input, indexed)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\elmo_search.py", line 71, in search_tool_elmo
    elmo_sentence_input)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\elmo_search.py", line 51, in prepare_elmo_query
    elmo_sentence_input)[0], q[0])
  File "simple_elmo\elmo_helpers.py", line 37, in get_elmo_vectors
    feed_dict={sentence_character_ids: sentence_ids})
  File "C:\Python36\lib\site-packages\tensorflow\python\client\session.py", line 950, in run
    run_metadata_ptr)
  File "C:\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1116, in _run
    'Cannot interpret feed_dict key as Tensor: ' + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(?, ?, 50), dtype=int32) is not an element of this graph.
Fri, 25 Oct 2019 10:44:41 INFO     127.0.0.1 - - [25/Oct/2019 10:44:41] "[37mGET /search?query=над+тобою+солнце+светит%2C+Родина+моя%21&method=ELMO HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 10:44:41 INFO     127.0.0.1 - - [25/Oct/2019 10:44:41] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 10:46:58 INFO     Query: Привет! меня зовут вася!?!, Method: TF-IDF
Fri, 25 Oct 2019 10:46:58 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 10:46:58 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 10:47:23 INFO     Result: [['Какова история кохинор кох-и-ноор-бриллиант', 0.0], ['как я могу увеличить скорость моего интернет-соединения, используя vpn', 0.0], ['почему я мысленно очень одинок, как я могу это решить', 0.0], ['которые растворяют в воде быстро сахарную соль метан и углеродный диоксид', 0.0], ['астрология: я - луна-колпачок из козерога и крышка, поднимающая то, что это говорит обо мне', 0.0], ['я должен купить tiago', 0.0], ['как я могу быть хорошим геологом?', 0.0], ['когда вы используете вместо', 0.0], ['компания motorola: могу ли я взломать мой чартер motorolla dcx3400', 0.0], ['метод определения разделения прорезей с использованием бипризма френеля', 0.0]]
Fri, 25 Oct 2019 10:47:23 INFO     127.0.0.1 - - [25/Oct/2019 10:47:23] "[37mGET /search?query=Привет%21+меня+зовут+вася%21%3F%21&method=TF-IDF HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 10:47:33 INFO     127.0.0.1 - - [25/Oct/2019 10:47:33] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 10:47:34 INFO     127.0.0.1 - - [25/Oct/2019 10:47:34] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 10:50:36 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 10:50:37 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 10:50:37 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 10:51:13 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 10:51:14 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 10:51:14 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 10:51:14 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 10:51:14 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 10:51:14 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 10:51:14 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 10:51:16 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 10:51:16 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 10:51:16 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 10:51:21 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 10:51:21 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 10:51:21 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 10:51:21 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 10:51:23 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 10:51:26 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 10:51:27 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 10:51:27 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 10:51:31 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 10:51:31 INFO      * Restarting with stat
Fri, 25 Oct 2019 10:51:47 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 10:51:48 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 10:51:48 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 10:52:24 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 10:52:29 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 10:52:29 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 10:52:29 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 10:52:29 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 10:52:29 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 10:52:30 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 10:52:33 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 10:52:33 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 10:52:33 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 10:52:39 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 10:52:39 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 10:52:39 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 10:52:39 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 10:52:40 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 10:52:41 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 10:52:41 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 10:52:41 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 10:52:44 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 10:52:44 WARNING   * Debugger is active!
Fri, 25 Oct 2019 10:52:44 INFO      * Debugger PIN: 311-371-793
Fri, 25 Oct 2019 10:52:44 INFO      * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Fri, 25 Oct 2019 10:53:02 INFO     Query: в чем смысл жизни, Method: TF-IDF
Fri, 25 Oct 2019 10:53:02 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 10:53:02 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 10:53:25 INFO     Result: [['какой смысл этой жизни', 1.0], ['в чем смысл жизни', 1.0], ['в чем смысл и цель жизни?', 0.7917228039241836], ['в чем смысл слова tamil urasanai', 0.6136484162961618], ['в чем смысл жизни, какова наша цель на земле', 0.5874779196874536], ['в чем смысл пара и gravida', 0.5783241567360159], ['в чем смысл эвтаназии', 0.5002950768462233], ['какова жизнь', 0.4875977228182906], ['в чем смысл триединого бога', 0.4330454540898923], ['в чем смысл, я должен взять дерьмо!', 0.4078399239094505]]
Fri, 25 Oct 2019 10:53:25 INFO     127.0.0.1 - - [25/Oct/2019 10:53:25] "[37mGET /search?query=в+чем+смысл+жизни&method=TF-IDF HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 10:53:28 INFO      * Detected change in 'C:\\Users\\Cyril\\proga\\InfoSearch_2019\\project\\engine_and_logging.py', reloading
Fri, 25 Oct 2019 10:53:30 INFO      * Restarting with stat
Fri, 25 Oct 2019 10:53:57 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 10:53:58 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 10:53:58 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 10:54:31 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 10:54:32 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 10:54:32 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 10:54:32 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 10:54:32 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 10:54:32 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 10:54:33 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 10:54:33 WARNING  From simple_elmo\bilm\model.py:276: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

Fri, 25 Oct 2019 10:54:33 WARNING  From simple_elmo\bilm\model.py:333: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.

Fri, 25 Oct 2019 10:54:34 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 10:54:39 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 10:54:39 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 10:54:39 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 10:54:39 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\init_ops.py:1251: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 10:54:41 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn_cell_impl.py:961: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 10:54:43 WARNING  From C:\Python36\lib\site-packages\tensorflow\python\ops\rnn.py:244: add_dispatch_support.<locals>.wrapper (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 10:54:43 WARNING  From simple_elmo\bilm\model.py:591: The name tf.assign is deprecated. Please use tf.compat.v1.assign instead.

Fri, 25 Oct 2019 10:54:43 WARNING  From simple_elmo\bilm\model.py:536: The name tf.nn.rnn_cell.ResidualWrapper is deprecated. Please use tf.compat.v1.nn.rnn_cell.ResidualWrapper instead.

Fri, 25 Oct 2019 10:54:46 WARNING  From simple_elmo\bilm\elmo.py:92: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

Fri, 25 Oct 2019 10:54:46 INFO      * Restarting with stat
Fri, 25 Oct 2019 10:55:01 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 10:55:02 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 10:55:02 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 10:56:09 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 10:56:10 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 10:56:11 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 10:56:11 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 10:56:11 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 10:56:11 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 10:57:12 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 10:57:12 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 10:57:13 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 10:58:19 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 10:58:19 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 10:58:20 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 10:58:57 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 10:58:58 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 10:58:58 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 10:58:58 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 10:58:58 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 10:58:58 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 10:58:59 INFO      * Restarting with stat
Fri, 25 Oct 2019 10:59:11 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 10:59:12 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 10:59:14 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 11:00:11 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 11:00:17 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 11:00:17 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 11:00:17 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 11:00:17 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 11:00:17 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 11:00:18 WARNING   * Debugger is active!
Fri, 25 Oct 2019 11:00:18 INFO      * Debugger PIN: 311-371-793
Fri, 25 Oct 2019 11:00:20 INFO      * Running on http://localhost:5000/ (Press CTRL+C to quit)
Fri, 25 Oct 2019 11:00:35 INFO     127.0.0.1 - - [25/Oct/2019 11:00:35] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 11:00:36 INFO     127.0.0.1 - - [25/Oct/2019 11:00:36] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 11:00:52 INFO     Query: в чем смысл жизни, Method: BM25
Fri, 25 Oct 2019 11:00:52 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 11:00:54 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 11:01:16 INFO     Result: [['какой смысл этой жизни', 0.9795489953161634], ['в чем смысл жизни', 0.9795489953161634], ['в чем смысл и цель жизни?', 0.7713213945688666], ['какова жизнь', 0.6246343172507212], ['в чем смысл жизни, какова наша цель на земле', 0.5766267212155496], ['в чем смысл слова tamil urasanai', 0.5399457972725081], ['в чем смысл пара и gravida', 0.503039381138764], ['в чем смысл эвтаназии', 0.4164821287395972], ['какова история жизни sundar pichai', 0.41468754753808157], ['что цель жизни', 0.40668809326709926]]
Fri, 25 Oct 2019 11:01:16 INFO     127.0.0.1 - - [25/Oct/2019 11:01:16] "[37mGET /search?query=в+чем+смысл+жизни&method=BM25 HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 11:01:44 INFO     Query: в чем смысл жизни, Method: TF-IDF
Fri, 25 Oct 2019 11:01:44 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 11:01:44 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 11:02:05 INFO     Result: [['какой смысл этой жизни', 1.0], ['в чем смысл жизни', 1.0], ['в чем смысл и цель жизни?', 0.7917228039241836], ['в чем смысл слова tamil urasanai', 0.6136484162961618], ['в чем смысл жизни, какова наша цель на земле', 0.5874779196874536], ['в чем смысл пара и gravida', 0.5783241567360159], ['в чем смысл эвтаназии', 0.5002950768462233], ['какова жизнь', 0.4875977228182906], ['в чем смысл триединого бога', 0.4330454540898923], ['в чем смысл, я должен взять дерьмо!', 0.4078399239094505]]
Fri, 25 Oct 2019 11:02:05 INFO     127.0.0.1 - - [25/Oct/2019 11:02:05] "[37mGET /search?query=в+чем+смысл+жизни&method=TF-IDF HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 11:02:33 INFO     Query: в чем смысл жизни, Method: FastText
Fri, 25 Oct 2019 11:02:33 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 11:02:33 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 11:02:38 INFO     Result: [['какой смысл этой жизни', 1.0], ['в чем смысл жизни', 1.0], ['в чем смысл и цель жизни?', 0.899697839055339], ['в чем смысл жизни, какова наша цель на земле', 0.7714755209182591], ['что цель жизни', 0.7566303339668395], ['в чем смысл эвтаназии', 0.7427982657684041], ['в чем смысл слова tamil urasanai', 0.7301937514417876], ['в чем смысл слова урду насаза', 0.7301937514417873], ['как мы живем в значимой жизни', 0.7245777090548541], ['как мне найти любовь в жизни', 0.7172621571549882]]
Fri, 25 Oct 2019 11:02:38 INFO     127.0.0.1 - - [25/Oct/2019 11:02:38] "[37mGET /search?query=в+чем+смысл+жизни&method=FastText HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 11:02:49 INFO     Query: в чем смысл жизни, Method: FastText
Fri, 25 Oct 2019 11:02:49 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 11:02:49 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 11:02:54 INFO     Result: [['какой смысл этой жизни', 1.0], ['в чем смысл жизни', 1.0], ['в чем смысл и цель жизни?', 0.899697839055339], ['в чем смысл жизни, какова наша цель на земле', 0.7714755209182591], ['что цель жизни', 0.7566303339668395], ['в чем смысл эвтаназии', 0.7427982657684041], ['в чем смысл слова tamil urasanai', 0.7301937514417876], ['в чем смысл слова урду насаза', 0.7301937514417873], ['как мы живем в значимой жизни', 0.7245777090548541], ['как мне найти любовь в жизни', 0.7172621571549882]]
Fri, 25 Oct 2019 11:02:54 INFO     127.0.0.1 - - [25/Oct/2019 11:02:54] "[37mGET /search?query=в+чем+смысл+жизни&method=FastText HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 11:29:23 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 11:29:23 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 11:29:24 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 11:29:59 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 11:30:01 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 11:30:01 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 11:30:01 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 11:30:01 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 11:30:01 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 11:30:03 INFO      * Restarting with stat
Fri, 25 Oct 2019 11:30:14 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 11:30:15 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 11:30:15 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 11:32:36 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 11:32:37 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 11:32:38 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 11:33:09 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 11:33:09 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 11:33:10 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 11:33:10 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 11:33:10 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 11:33:10 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 11:33:10 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 11:33:11 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 11:33:13 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 11:33:13 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 11:33:13 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 11:33:14 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn_cell_impl.py:958: Layer.add_variable (from tensorflow.python.keras.engine.base_layer) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `layer.add_weight` method instead.
Fri, 25 Oct 2019 11:33:15 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn_cell_impl.py:962: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 11:33:15 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn.py:244: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 11:33:20 INFO      * Restarting with stat
Fri, 25 Oct 2019 11:33:39 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 11:33:40 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 11:33:40 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 11:34:24 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 11:34:28 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 11:34:29 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 11:34:29 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 11:34:29 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 11:34:29 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 11:34:30 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 11:34:31 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 11:34:33 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 11:34:33 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 11:34:33 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 11:34:33 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn_cell_impl.py:958: Layer.add_variable (from tensorflow.python.keras.engine.base_layer) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `layer.add_weight` method instead.
Fri, 25 Oct 2019 11:34:34 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn_cell_impl.py:962: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 11:34:34 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn.py:244: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 11:34:36 WARNING   * Debugger is active!
Fri, 25 Oct 2019 11:34:37 INFO      * Debugger PIN: 311-371-793
Fri, 25 Oct 2019 11:34:37 INFO      * Running on http://localhost:5000/ (Press CTRL+C to quit)
Fri, 25 Oct 2019 11:35:29 INFO     127.0.0.1 - - [25/Oct/2019 11:35:29] "[37mGET / HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 11:35:32 INFO     127.0.0.1 - - [25/Oct/2019 11:35:32] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 11:35:32 INFO     127.0.0.1 - - [25/Oct/2019 11:35:32] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 11:35:38 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: ELMO
Fri, 25 Oct 2019 11:35:38 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 11:35:38 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 11:35:41 ERROR    Error with query Глаза очень любят свет Индия и Пакистан что делать and model ELMO:

 repr(e)
Traceback (most recent call last):
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\engine_and_logging.py", line 24, in dosearch
    result=search(query, method)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 92, in search
    final_df = get_ultimate_sentences(evaluation_df)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 79, in get_ultimate_sentences
    res['dupl'] = res.index
TypeError: 'str' object does not support item assignment
Fri, 25 Oct 2019 11:35:41 INFO     127.0.0.1 - - [25/Oct/2019 11:35:41] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=ELMO HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 11:35:41 INFO     127.0.0.1 - - [25/Oct/2019 11:35:41] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 11:50:46 INFO      * Detected change in 'C:\\Users\\Cyril\\proga\\InfoSearch_2019\\project\\search_and_eval.py', reloading
Fri, 25 Oct 2019 11:51:15 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 11:51:16 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 11:51:16 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 11:52:16 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 11:52:18 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 11:52:18 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 11:52:18 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 11:52:18 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 11:52:18 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 11:52:19 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 11:52:20 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 11:52:22 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 11:52:22 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 11:52:22 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 11:52:22 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn_cell_impl.py:958: Layer.add_variable (from tensorflow.python.keras.engine.base_layer) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `layer.add_weight` method instead.
Fri, 25 Oct 2019 11:52:23 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn_cell_impl.py:962: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 11:52:23 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn.py:244: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 11:52:26 INFO      * Restarting with stat
Fri, 25 Oct 2019 11:52:40 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 11:52:41 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 11:52:44 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 11:53:47 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 11:53:53 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 11:53:54 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 11:53:54 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 11:53:54 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 11:53:54 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 11:53:54 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 11:53:56 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 11:53:57 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 11:53:58 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 11:53:58 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 11:53:58 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn_cell_impl.py:958: Layer.add_variable (from tensorflow.python.keras.engine.base_layer) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `layer.add_weight` method instead.
Fri, 25 Oct 2019 11:53:59 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn_cell_impl.py:962: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 11:53:59 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn.py:244: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 11:54:02 WARNING   * Debugger is active!
Fri, 25 Oct 2019 11:54:02 INFO      * Debugger PIN: 311-371-793
Fri, 25 Oct 2019 11:54:02 INFO      * Running on http://localhost:5000/ (Press CTRL+C to quit)
Fri, 25 Oct 2019 11:54:34 INFO     127.0.0.1 - - [25/Oct/2019 11:54:34] "[37mGET /search HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 11:54:34 INFO     127.0.0.1 - - [25/Oct/2019 11:54:34] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 11:54:43 INFO     Query: Глаза очень любят свет Индия и Пакистан что делать, Method: ELMO
Fri, 25 Oct 2019 11:54:43 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 11:54:43 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 11:54:46 ERROR    Error with query Глаза очень любят свет Индия и Пакистан что делать and model ELMO:

 repr(e)
Traceback (most recent call last):
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\engine_and_logging.py", line 24, in dosearch
    result=search(query, method)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 94, in search
    final_df = get_ultimate_sentences(evaluation_df)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 81, in get_ultimate_sentences
    res['dupl'] = res.index
TypeError: 'str' object does not support item assignment
Fri, 25 Oct 2019 11:54:46 INFO     127.0.0.1 - - [25/Oct/2019 11:54:46] "[37mGET /search?query=Глаза+очень+любят+свет+Индия+и+Пакистан+что+делать&method=ELMO HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 11:54:46 INFO     127.0.0.1 - - [25/Oct/2019 11:54:46] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
Fri, 25 Oct 2019 11:55:09 INFO      * Detected change in 'C:\\Users\\Cyril\\proga\\InfoSearch_2019\\project\\search_and_eval.py', reloading
Fri, 25 Oct 2019 11:55:11 INFO      * Restarting with stat
Fri, 25 Oct 2019 11:55:28 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 11:55:29 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 11:55:29 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 11:56:25 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 11:56:28 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 11:56:28 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 11:56:28 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 11:56:28 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 11:56:28 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 11:56:28 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 11:56:30 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 11:56:32 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 11:56:32 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 11:56:32 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 11:56:33 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn_cell_impl.py:958: Layer.add_variable (from tensorflow.python.keras.engine.base_layer) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `layer.add_weight` method instead.
Fri, 25 Oct 2019 11:56:33 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn_cell_impl.py:962: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 11:56:33 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn.py:244: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 11:56:36 INFO      * Restarting with stat
Fri, 25 Oct 2019 11:56:50 INFO     loading Word2VecKeyedVectors object from fasttext/model.model
Fri, 25 Oct 2019 11:56:50 INFO     loading vectors_vocab from fasttext/model.model.vectors_vocab.npy with mmap=None
Fri, 25 Oct 2019 11:56:52 INFO     loading vectors_ngrams from fasttext/model.model.vectors_ngrams.npy with mmap=None
Fri, 25 Oct 2019 11:57:54 INFO     loading vectors from fasttext/model.model.vectors.npy with mmap=None
Fri, 25 Oct 2019 11:57:56 INFO     setting ignored attribute vectors_vocab_norm to None
Fri, 25 Oct 2019 11:57:57 INFO     setting ignored attribute buckets_word to None
Fri, 25 Oct 2019 11:57:57 INFO     setting ignored attribute vectors_norm to None
Fri, 25 Oct 2019 11:57:57 INFO     setting ignored attribute vectors_ngrams_norm to None
Fri, 25 Oct 2019 11:57:57 INFO     loaded fasttext/model.model
Fri, 25 Oct 2019 11:58:03 WARNING  From simple_elmo\elmo_helpers.py:56: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

Fri, 25 Oct 2019 11:58:05 WARNING  From simple_elmo\bilm\model.py:378: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Fri, 25 Oct 2019 11:58:07 WARNING  From simple_elmo\bilm\model.py:522: LSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
Fri, 25 Oct 2019 11:58:07 WARNING  From simple_elmo\bilm\model.py:566: The name tf.nn.rnn_cell.LSTMStateTuple is deprecated. Please use tf.compat.v1.nn.rnn_cell.LSTMStateTuple instead.

Fri, 25 Oct 2019 11:58:07 WARNING  From simple_elmo\bilm\model.py:567: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
Fri, 25 Oct 2019 11:58:07 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn_cell_impl.py:958: Layer.add_variable (from tensorflow.python.keras.engine.base_layer) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `layer.add_weight` method instead.
Fri, 25 Oct 2019 11:58:07 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn_cell_impl.py:962: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
Fri, 25 Oct 2019 11:58:08 WARNING  From C:\Python36\lib\site-packages\tensorflow_core\python\ops\rnn.py:244: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
Fri, 25 Oct 2019 11:58:10 WARNING   * Debugger is active!
Fri, 25 Oct 2019 11:58:10 INFO      * Debugger PIN: 311-371-793
Fri, 25 Oct 2019 11:58:10 INFO      * Running on http://localhost:5000/ (Press CTRL+C to quit)
Fri, 25 Oct 2019 11:58:28 INFO     Query: в чем смысл жизни, Method: ELMO
Fri, 25 Oct 2019 11:58:28 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 11:58:28 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 11:58:29 INFO     Loading dictionaries from C:\Python36\lib\site-packages\pymorphy2_dicts\data
Fri, 25 Oct 2019 11:58:29 INFO     format: 2.4, revision: 393442, updated: 2015-01-17T16:03:56.586168
Fri, 25 Oct 2019 11:58:30 ERROR    Error with query в чем смысл жизни and model ELMO:

 repr(e)
Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\tensorflow_core\python\client\session.py", line 1120, in _run
    subfeed, allow_tensor=True, allow_operation=False)
  File "C:\Python36\lib\site-packages\tensorflow_core\python\framework\ops.py", line 3607, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Python36\lib\site-packages\tensorflow_core\python\framework\ops.py", line 3686, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(?, ?, 50), dtype=int32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\engine_and_logging.py", line 24, in dosearch
    result=search(query, method)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 93, in search
    evaluation_df = metric(query, model)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\search_and_eval.py", line 65, in metric
    metric_value = search_tool_elmo(query, batcher, sentence_character_ids, elmo_sentence_input, indexed)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\elmo_search.py", line 66, in search_tool_elmo
    elmo_sentence_input)
  File "C:\Users\Cyril\proga\InfoSearch_2019\project\elmo_search.py", line 49, in prepare_elmo_query
    elmo_sentence_input)[0], q[0])
  File "simple_elmo\elmo_helpers.py", line 37, in get_elmo_vectors
    feed_dict={sentence_character_ids: sentence_ids})
  File "C:\Python36\lib\site-packages\tensorflow_core\python\client\session.py", line 956, in run
    run_metadata_ptr)
  File "C:\Python36\lib\site-packages\tensorflow_core\python\client\session.py", line 1123, in _run
    e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(?, ?, 50), dtype=int32) is not an element of this graph.
Fri, 25 Oct 2019 11:58:31 INFO     127.0.0.1 - - [25/Oct/2019 11:58:31] "[37mGET /search?query=в+чем+смысл+жизни&method=ELMO HTTP/1.1[0m" 200 -
Fri, 25 Oct 2019 11:58:31 INFO     127.0.0.1 - - [25/Oct/2019 11:58:31] "[33mGET /title.jpg HTTP/1.1[0m" 404 -
